<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Digital Clock</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#7c3aed;
      --muted: #9aa6b2;
      --text:#e6eef6;
      --glass: rgba(255,255,255,0.04);
      --radius:16px;
      font-family: Inter, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    }

    /* Light theme */
    .light {
      --bg:#f3f7fb;
      --card:#ffffff;
      --accent:#2563eb;
      --muted:#4b5563;
      --text:#0b1220;
      --glass: rgba(11,18,32,0.03);
    }

    html,body{height:100%;margin:0;}
    body{
      background: linear-gradient(180deg,var(--bg), #071025 80%);
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:24px;
    }

    .clock-wrap{
      width:min(720px,96%);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:var(--radius);
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      display:grid;
      grid-template-columns: 1fr 340px;
      gap:22px;
      align-items:center;
      backdrop-filter: blur(6px);
    }

    /* left - clock display */
    .display {
      padding:18px;
      border-radius:12px;
      background: linear-gradient(180deg,var(--card), rgba(255,255,255,0.01));
      box-shadow: 0 6px 18px rgba(2,6,23,0.5);
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    .time-row{
      display:flex;
      align-items:baseline;
      gap:12px;
    }

    .time {
      font-size: clamp(48px, 8.5vw, 84px);
      font-weight:700;
      letter-spacing:1px;
    }

    .ampm {
      font-size: clamp(14px,2.5vw,18px);
      padding:6px 10px;
      border-radius:8px;
      background:var(--glass);
      color:var(--muted);
      display:inline-block;
    }

    .seconds {
      font-size: clamp(20px,3.5vw,28px);
      color:var(--muted);
      margin-left:6px;
    }

    .date {
      color:var(--muted);
      font-size:14px;
    }

    /* right - controls & extras */
    .panel {
      padding:18px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:stretch;
    }

    .row {
      display:flex;
      gap:10px;
      align-items:center;
    }

    label.switch {
      position:relative;
      display:inline-block;
      width:56px;
      height:30px;
    }
    label.switch input{display:none;}
    .slider {
      position:absolute;
      inset:0;
      background:#24303b;
      border-radius:999px;
      transition:all .25s ease;
      box-shadow: inset 0 -6px 12px rgba(0,0,0,0.25);
    }
    .thumb{
      position:absolute;
      top:3px;
      left:3px;
      width:24px;
      height:24px;
      border-radius:50%;
      background:linear-gradient(180deg,#fff,#e6eef6);
      transition:all .25s ease;
      box-shadow: 0 4px 10px rgba(2,6,23,0.45);
    }
    label.switch input:checked + .slider { background:var(--accent); }
    label.switch input:checked + .slider .thumb { transform: translateX(26px); }

    .btn {
      padding:10px 12px;
      border-radius:10px;
      border:0;
      background:var(--accent);
      color:white;
      font-weight:600;
      cursor:pointer;
      box-shadow: 0 6px 18px rgba(124,58,237,0.12);
    }
    .btn.ghost {
      background:transparent;
      color:var(--text);
      border:1px solid rgba(255,255,255,0.06);
      font-weight:600;
    }

    .small {
      font-size:13px;
      color:var(--muted);
    }

    .sep {
      height:1px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.03), transparent);
      margin:6px 0 12px;
      border-radius:6px;
    }

    .info-box {
      background:var(--glass);
      padding:12px;
      border-radius:10px;
      font-size:14px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      align-items:center;
    }

    .copy-btn {
      padding:6px 8px;
      border-radius:8px;
      border:0;
      background:transparent;
      color:var(--muted);
      cursor:pointer;
    }

    /* responsive */
    @media (max-width:880px){
      .clock-wrap{grid-template-columns:1fr; padding:20px;}
      .panel{order:2}
    }

    /* tiny credits */
    .credits{
      text-align:center;
      font-size:12px;
      color:var(--muted);
      margin-top:12px;
    }
  </style>
</head>
<body>
  <main class="clock-wrap" id="app">
    <!-- Left: Clock -->
    <section class="display" aria-label="Digital clock display">
      <div class="time-row" role="timer" aria-live="polite">
        <div class="time" id="time">00:00</div>
        <div class="seconds" id="seconds">:00</div>
        <div class="ampm" id="ampm">AM</div>
      </div>

      <div class="date" id="date">Monday, 1 January 1970</div>

      <div class="sep" aria-hidden="true"></div>

      <div class="info-box" aria-hidden="false">
        <div>
          <div style="font-weight:700">Local Time</div>
          <div class="small">Uses your device clock</div>
        </div>
        <div style="text-align:right">
          <div style="font-weight:700" id="tz">UTC</div>
          <div class="small">Timezone</div>
        </div>
      </div>

      <div class="credits">Digital Clock • Offline • Built with HTML/CSS/JS</div>
    </section>

    <!-- Right: Controls -->
    <aside class="panel" aria-label="Controls">
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div>
          <strong>Settings</strong>
          <div class="small">Customize the clock</div>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
          <label class="switch" title="Toggle light theme">
            <input type="checkbox" id="themeToggle">
            <span class="slider"><span class="thumb"></span></span>
          </label>
        </div>
      </div>

      <div class="row">
        <div style="flex:1">
          <div style="font-weight:700">Hour Mode</div>
          <div class="small">Switch 12 / 24 hour</div>
        </div>
        <div>
          <label class="switch" aria-label="24-hour toggle">
            <input type="checkbox" id="hourToggle">
            <span class="slider"><span class="thumb"></span></span>
          </label>
        </div>
      </div>

      <div class="row">
        <div style="flex:1">
          <div style="font-weight:700">Start / Stop Update</div>
          <div class="small">Pause the clock updates (uses device time only when running)</div>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn ghost" id="pauseBtn" title="Pause updates">Pause</button>
          <button class="btn" id="resumeBtn" title="Resume updates" style="display:none">Resume</button>
        </div>
      </div>

      <div class="row" style="margin-top:6px">
        <div style="flex:1">
          <div style="font-weight:700">Quick Actions</div>
          <div class="small">Copy current time to clipboard</div>
        </div>
        <div>
          <button class="btn" id="copyTime">Copy</button>
        </div>
      </div>

      <div style="margin-top:6px" class="small">
        Tip: This clock is client-side only — it reads your device time and works offline.
      </div>
    </aside>
  </main>

  <script>
    // Elements
    const timeEl = document.getElementById('time');
    const secondsEl = document.getElementById('seconds');
    const ampmEl = document.getElementById('ampm');
    const dateEl = document.getElementById('date');
    const tzEl = document.getElementById('tz');

    const hourToggle = document.getElementById('hourToggle');
    const themeToggle = document.getElementById('themeToggle');
    const pauseBtn = document.getElementById('pauseBtn');
    const resumeBtn = document.getElementById('resumeBtn');
    const copyBtn = document.getElementById('copyTime');
    const app = document.getElementById('app');

    // State
    let running = true;
    let tickInterval = null;
    let use24Hour = false;

    // Helper: pad with leading zero
    function pad(n){ return n < 10 ? '0' + n : n.toString(); }

    // Build friendly date string
    function formatDate(d){
      const days = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
      const months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
      return `${days[d.getDay()]}, ${d.getDate()} ${months[d.getMonth()]} ${d.getFullYear()}`;
    }

    // Update timezone display (abbrev if possible)
    function getTZAbbr(date = new Date()){
      try{
        // Use Intl API to show time zone name short if supported
        const tzName = Intl.DateTimeFormat([], {timeZoneName: 'short'}).formatToParts(date)
          .find(p => p.type === 'timeZoneName');
        return tzName ? tzName.value : Intl.DateTimeFormat().resolvedOptions().timeZone;
      }catch(e){
        return Intl.DateTimeFormat().resolvedOptions().timeZone;
      }
    }

    // Main update
    function updateClock(){
      const now = new Date();
      // get hours/minutes/seconds
      let hh = now.getHours();
      const mm = now.getMinutes();
      const ss = now.getSeconds();

      // AM/PM and 12-hour conversion
      let ampm = 'AM';
      if(!use24Hour){
        ampm = hh >= 12 ? 'PM' : 'AM';
        hh = hh % 12;
        if(hh === 0) hh = 12;
      }

      // Format
      const displayHours = pad(hh);
      const displayMinutes = pad(mm);
      const displaySeconds = pad(ss);

      timeEl.textContent = `${displayHours}:${displayMinutes}`;
      secondsEl.textContent = `:${displaySeconds}`;
      ampmEl.textContent = use24Hour ? '' : ampm;

      dateEl.textContent = formatDate(now);
      tzEl.textContent = getTZAbbr(now);
    }

    // Start ticking every 1 second (sync immediately)
    function startTick(){
      if(tickInterval) clearInterval(tickInterval);
      updateClock(); // immediate draw
      tickInterval = setInterval(() => {
        if(running) updateClock();
      }, 1000);
    }

    // Pause/Resume
    pauseBtn.addEventListener('click', () => {
      running = false;
      pauseBtn.style.display = 'none';
      resumeBtn.style.display = '';
    });
    resumeBtn.addEventListener('click', () => {
      running = true;
      resumeBtn.style.display = 'none';
      pauseBtn.style.display = '';
      updateClock();
    });

    // copy time
    copyBtn.addEventListener('click', async () => {
      const txt = `${timeEl.textContent}${secondsEl.textContent}${ampmEl.textContent ? ' ' + ampmEl.textContent : ''} (${dateEl.textContent})`;
      try {
        await navigator.clipboard.writeText(txt);
        copyBtn.textContent = 'Copied!';
        setTimeout(()=> copyBtn.textContent = 'Copy', 1200);
      } catch(e){
        // fallback
        alert('Clipboard write not allowed. Time: ' + txt);
      }
    });

    // toggles
    hourToggle.addEventListener('change', (e)=>{
      use24Hour = e.target.checked;
      updateClock();
    });

    themeToggle.addEventListener('change', (e)=>{
      if(e.target.checked) document.documentElement.classList.add('light');
      else document.documentElement.classList.remove('light');
    });

    // initialize
    startTick();

    // Accessibility: update once if visibility changes
    document.addEventListener('visibilitychange', ()=> {
      if(document.visibilityState === 'visible'){
        updateClock();
      }
    });

    // Expose for debugging (optional)
    window._digitalClock = {
      start: ()=> { running = true; startTick(); },
      stop: ()=> { running = false; if(tickInterval) clearInterval(tickInterval); }
    };
  </script>
</body>
</html>
